# 2. 一切都是对象

## 2.1 引用控制对象

1. 引用：操纵的标识符是对象的一个引用

   <!--创建一个String引用，并不是对象-->

   ```java
   String s;
   ```

   ## 2.2 必须由你创建所有对象

1. 关联新对象

   ```java
   String s = new String("abcd");
   ```

### 2.2.1 存储位置

1. 寄存器：最快的存储区，位于处理器内部
2. 堆栈：位于通用RAM（随机访问存储器），**需要知道所有存储项的生命周期**
   - 创建一个并非是引用的“自动”变量，这个变量直接存储值并放置在堆栈中，更高效
3. 堆：通用的内存池（位于RAM区），**存放所有java对象，不需要知道生命周期**
   - new一个对象，存储在堆中
   - 基本类型的包装类，可以在堆中创建一个非基本对象
4. 常量存储：常量值通常直接存储在程序代码内部，安全
5. 非RAM存储：可以不受程序控制
   - 基本例子
     1. 流对象：对象为字节流，通常被发送给另一台机器
     2. 持久化对象：对象存放在磁盘上，需要时恢复成常规、基于RAM的对象

### 2.2.2 特例：基本类型

1. 基本类型的大小和包装器类型
   - 所有数值都有正负号
   - boolean类型大小无明确制定，仅字面值true或false
2. 基本类型与包装类的区别
   - 声明方式：基本类型不使用new关键字；包装类型使用new关键字在堆中分配存储空间
   - 存储方式及位置：基本类型将变量存储在堆栈中；包装类将对象放在堆中，通过引用使用

| 基本类型 | 大小    | 最小值    | 最大值          | 包装器类型 |
| -------- | ------- | --------- | --------------- | :--------: |
| boolean  | -       | -         | -               |  Boolean   |
| char     | 16-bit  | Unicode 0 | Unicode 2^16 -1 | Character  |
| byte     | 8 bits  | -128      | +127            |    Byte    |
| short    | 16 bits | -2^15     | +2^15 - 1       |   Short    |
| int      | 32 bits | -2^31     | +2^31 - 1       |  Integer   |
| long     | 64 bits | -2^63     | +2^63 - 1       |    Long    |
| float    | 32 bits | IEEE754   | IEEE754         |   Float    |
| double   | 64 bits | IEEE754   | IEEE754         |   Double   |
| void     | -       | -         | -               |    Void    |
|          |         |           |                 |            |

3. 高精度数字
   - BIgInteger：任意精度的整数
   - BigDecimal：任何精度的定点数 <!--可以用于精确的货币计算-->

### 2.2.3 Java中的数组

> 在使用任何引用前，必须指定一个对象

## 2.3 不需要销毁对象

### 2.3.1 作用域

1. 作用域：决定了在其内定义的变量的可见性和生命周期

   <!--在C、C++、Java中，作用域由花括号位置决定-->

   ```java
   {int x = 12;
    x is available
     {
       int p = 11;
       // x/p are availbale
     }
    	x is available
      p is out of scope
   }
   ```

   

### 2.3.2 对象的作用域

1. 对象的生命周期：引用将在作用域终点消失，但是对象将继续占据内存空间，而java的垃圾回收器将监视new的对象，对象不再使用时，会自行消失

## 2.4 创建新的数据类型：类

1. class关键字之后跟着的是新类型的名称

### 2.4.1 字段和方法

1. 字段（数据成员）：任何类型的对象

   - 引用对象的成员：在对象引用的名称后加句点，然后再加上对象内部成员的名称

   ```java
   data.i = 47;
   ```

## 2.5 方法、参数和返回值

1. 方法的基本组成：名称、参数列表、返回值、方法体

   ```
   ReturnType methodName(Argument list){method body};
   ```

2. 调用方法：对象名紧跟句点，然后是方法名和参数列表

   <!--这种调用方法被称为 发送消息给对象-->

### 2.5.1 参数列表

> 参数列表中必须指定每个所传递对象的类型和名称

1. 关键字return的用法
   - 离开方法：如无需返回值（返回类型为void），可使用return来结束当前方法
   - 传递返回值



## 2.6 其他

### 2.6.1 名字可见性

1. 如果两个模块使用相同名字，如果避免冲突
   - 反转使用Internet域名：mindset.net反转后net.mindset.utility.foibles

### 2.6.2 运用其他构件

1. 使用import导入包，同时可使用通配符*

### 2.6.3 static关键字

1. 用法

   - 为某特定域分配单一的存储空间
   - **实现不创建对象，也能调用方法**——主要用法

2. 引用方法

   ```java
   class StaticTest(){
    static int i = 47;
   }
   
   //1.通过对象定位
   StaticTest st1 = new StaticTest();
   st1.i;
   //2.通过类名直接引用
   StaticTest.i;
   ```

3. 存储空间

   ```java
   class StaticTest(){
    static int i = 47;
   }
   StaticTest st1 = new StaticTest();
   StaticTest st2 = new StaticTest();
   //即使创建两个对象，StaticTest.i也仅有一份存储空间
   ```

## 2.8 注释和嵌入式文档

1. 注释类型

   ```java
   /*
   1.多行注释
   */
   
   // 2.单行注释
   ```

### 2.8.1 注释文档

1. javadoc：提取注释的工具
2. javadoc只能为public和protected成员进行文档注释，因为private成员预期是无法在文件之外被使用的









