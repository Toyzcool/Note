# 3. 操作符

## 3.1 静态导入

- 静态导入：方法中调用静态导入的其他类中的静态方法

<!--类和静态方法-->

```java
package com.one;
public class Print {
    public static void print(String s){
        System.out.println(s);
    }
}
```

<!--测试静态导入的方法-->

```java
package com.one;
// 静态导入方法
import static com.one.Print.*;
public class TestPrint {
    public static void main(String[] args) {
        System.out.println("Nomal Print");
        // 静态导入的方法输出
        print("Simple Print");
    }
}
```



## 3.2 使用Java操作符

- 副作用：操作符改变操作数本身的值 <!--比如++、--这类操作符------>

> String类支持"+"和"+="

## 3.3 优先级

- 优先级顺序
  - 先乘除后加减
  - 用括号明确计算顺序

## 3.4 赋值

- 赋值：使用操作符"="

- 赋值分类

  - 基本类型赋值：直接将内容复制到另一个地方

  - 对象类型赋值：将“引用”从一个地方复制到另一个地方（**一个对象对应多个引用，一个引用可能有0或1个对象**），类似指针，由于原来的指针指向新的对象，所以原来的对象将被垃圾回收器清理，具体可见以下实现

    ```java
    class Tank{
      int level;
    }
    public class Assignment{
      public static void main(String[] args){
        // 赋值前
        Tank t1 = new Tank();
        Tank t2 = new Tank();
        t1.level = 9;
        t2.level = 47;
        print(t1+","+t2);
        // 第一次赋值
        t1 = t2; 
        print(t1+","+t2);
        // 第二次赋值
        t1.level = 22;
        print(t1+","+t2);
      }
    }
    /*
    output:
    9,47
    47,47
    22,22
    */
    ```

- 别名现象解析

  - 代码片段（见赋值分类的对象类型赋值）

  - 原理分析

    - 第一次赋值是将t2的指向修改为与t1一致，同时指向同一个对象，因为t1和t2都是引用

    ![](/Users/toyz/Package/Note/Thinking in Java/别名现象解析.png)

## 3.5 算术操作符

- 操作符种类
  - 加号+、减号-、除号/、乘号*，取模%
  - 整数除法会直接去掉结果的小数位，不会四舍五入

- Random方法

  - Random为生成伪随机数的类，使用nextInt()/nextFloat()方法获取随机数

  - 如果种子参数相同，则生成的随机数也相同，见下方

    ```java
    package com.four;
    import java.util.Random;
    public class TestRandom {
        public static void main(String[] args) {
    				// 种子数相同      
            Random random1 = new Random(10);
            Random random2 = new Random(10);
            int i = random1.nextInt();
            int j = random2.nextInt();
            System.out.println("i="+i);
            System.out.println("j="+j);
        }
    }
    /* output:
    i=-1157793070
    j=-1157793070
    */
    ```

    

### 3.5.2 一元加、减操作符

- 一元减号：转变数据的符号，或修改数据类型

- 一元加号：将数据类型修改为int类型 <!--比如原类型为char，添加加号输出后，结果是对应的ASCII码的值-->

  ```java
  package com.four;
  public class TestAdd {
      public static void main(String[] args) {
          int i = 1;
          char j = 'c';
          short k = 5;
          System.out.println(i);
          System.out.println(j);
          System.out.println(k);
          System.out.println("添加加号");
          System.out.println(+i);
          System.out.println(+j);
          System.out.println(+k);
          System.out.println("添加减号");
          System.out.println(-i);
          System.out.println(-j);
          System.out.println(-k);
      }
  }
  /* output
  1
  c
  5
  添加加号
  1
  99
  5
  添加减号
  -1
  -99
  -5
  */
  // /Users/toyz/Package/Note/Thinking in Java/Practice/Operators/src/com/four/TestAdd.java
  ```

## 3.6 自动递增和递减

- 分类

  - 前缀递增、前缀递减：先执行运算，后生成值

  - 后缀递增、后缀递减：先生成值，后执行运算

    <!--测试代码如下-->

    ```java
    package com.four;
    import static util.Print.*;
    public class TestIncreasing {
        public static void main(String[] args) {
            int i = 1;
            int j = i;
            print("i = "+i);
            // 前缀递增
            j = ++i;
            print("前缀递增后");
            print("i = "+i);
            print("j = "+j);
            i = 1;
            j = i;
            // 前缀递减
            j = --i;
            print("前缀递减后");
            print("i = "+i);
            print("j = "+j);
            i = 1;
            j = i;
            // 后缀递增
            j = i++;
            print("后缀递增后");
            print("i = "+i);
            print("j = "+j);
            i = 1;
            j = i;
            // 后缀递减
            j = i--;
            print("后缀递减后");
            print("i = "+i);
            print("j = "+j);
            i = 1;
            j = i;
        }
    }
    /* output
    i = 1
    前缀递增后
    i = 2
    j = 2
    前缀递减后
    i = 0
    j = 0
    后缀递增后
    i = 2
    j = 1
    后缀递减后
    i = 0
    j = 1
    */
    // /Users/toyz/Package/Note/Thinking in Java/Practice/Operators/src/com/four/TestIncreasing.java
    ```

## 3.7 关系操作符

